generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Vehicle {
  id              String   @id @default(cuid())
  registration    String   @unique
  make            String?
  model           String?
  year            Int?
  vin             String?  @unique
  color           String?
  mileage         Int?
  fuelType        String?
  engineSize      String?
  transmission    String?
  customerId      String?
  customer        Customer? @relation(fields: [customerId], references: [id])
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  jobCards        JobCard[]
  motTests        MotTest[]
  sales           Sale[]
  
  @@map("vehicles")
}

model Customer {
  id              String   @id @default(cuid())
  firstName       String
  lastName        String
  email           String?  @unique
  phone           String?
  address         String?
  postcode        String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  vehicles        Vehicle[]
  jobCards        JobCard[]
  sales           Sale[]
  
  @@map("customers")
}

model JobCard {
  id              String   @id @default(cuid())
  jobNumber       String   @unique
  vehicleId       String
  vehicle         Vehicle  @relation(fields: [vehicleId], references: [id])
  customerId      String
  customer        Customer @relation(fields: [cu
