why do i get "invalid input syntax for type uuid: "m gloves"" when insdie the popup "Order [consumble]"








TASK:
Remove the vhc/dashboard page completely, move all of its logic and UI into the job-cards/[jobnumber]/VHC tab, remove all sidebar buttons that referenced the dashboard, and add a new Parts Identified Workflow inside the VHC tab.

1. Remove VHC Dashboard Page
Delete the page:
/src/pages/vhc/dashboard.js
(or /pages/vhc/dashboard.js depending on project structure)


Make sure:

All imports, components and hooks used here continue to work from their new location.

Any shared functions should be moved into /src/lib/vhc/ or reused from where they already are.

Do not break navigation or API calls.

Remove sidebar link:

Search the repo for references to:

/vhc/dashboard
vhc/dashboard
VHC Dashboard


Remove the sidebar item or navigation card that pointed to this page.

2. Move All Dashboard Content

Everything displayed on vhc/dashboard must now be shown inside:

pages/job-cards/[jobnumber]/index.js
   → Inside the VHC tab


The layout should mirror the original VHC dashboard exactly:

VHC required list

VHC not started

In progress

Waiting for parts

Sent to customer

Awaiting approval

Approved

Declined

Completed

These now filter only for that specific job number, not all jobs.

Any stats, timers or counts must stay functional.

3. Add “Parts Identified” Section

Inside the VHC tab of a job, add a new section:

VHC Tab
   Summary
   VHC Checks
   Photos
   Parts Identified   ← NEW SECTION

Parts Identified Logic

This section shows all items marked:

Red (fail)

Amber (advisory)

The data source is the same as the VHC summary page.
Each row should match the user’s finding, with columns:

Problem title

Category (brakes, tyres, etc.)

Technician notes

Pre-filled labour time (auto from your system)

Button: Select Parts

4. Part Selection Popup

When a row is clicked, open a modal.

Modal Fields:

Search bar with auto-fill that pulls from the parts database.

Returned fields:

Part name

Part number

Price to customer (auto fill)

Cost to us (change label: “Internal cost”)

Availability:

In stock

No stock

Back order

Location (bin/shelf)

ETA if back ordered

Labour time (auto link from job request or default lookup)

Buttons:

Save

Close

Behaviour:

Saving attaches these parts to the VHC item.

Saving updates the Summary tab price immediately.

Saving updates the job_parts_identified database table.

Save triggers a notification so Parts department sees new required parts.

5. Auto-Link Labour Time

When a part is added:

Pull labour time from your VHC category defaults

If the tech added a custom labour time, use that value instead

Store labour time per VHC row for accurate invoicing later

6. Reflect Part Prices in Summary Tab

The VHC Summary tab should:

Display red and amber items

Automatically show customer total for each item based on:

Part price × quantity

Labour time × labour rate

7. Verify Everything Works After Deletion

Check the following:

No broken imports from deleting the VHC dashboard page

Sidebar navigation works

VHC tab loads correctly on all job cards

Red and amber items still populate correctly

New Parts Identified workflow saves to DB

Summary tab auto-updates pricing

No console errors